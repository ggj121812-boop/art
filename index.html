import React, { useState, useEffect } from 'react';
import { Calendar, Phone, Mail, MapPin, Users, Clock, Star, ChevronRight, Menu, X, Instagram, Facebook, Youtube } from 'lucide-react';

const EniTheaterApp = () => {
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [scrolled, setScrolled] = useState(false);
  const [activeTab, setActiveTab] = useState('all');

  // 스크롤 감지
  useEffect(() => {
    const handleScroll = () => {
      setScrolled(window.scrollY > 50);
    };
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  // 네비게이션 이동
  const scrollToSection = (id) => {
    setIsMenuOpen(false);
    const element = document.getElementById(id);
    if (element) {
      element.scrollIntoView({ behavior: 'smooth' });
    }
  };

  // 섭외 신청 폼 상태
  const [formData, setFormData] = useState({
    orgName: '',
    managerName: '',
    phone: '',
    email: '',
    date: '',
    location: '',
    budget: '',
    message: ''
  });

  const handleInputChange = (e) => {
    const { name, value } = e.target;
    setFormData(prev => ({ ...prev, [name]: value }));
  };

  const handleSubmit = (e) => {
    e.preventDefault();
    alert(`${formData.managerName}님, 섭외 신청이 접수되었습니다.\n빠른 시일 내에 연락드리겠습니다!`);
    // 실제로는 여기서 백엔드나 이메일 API로 데이터를 전송합니다.
    setFormData({
      orgName: '', managerName: '', phone: '', email: '', date: '', location: '', budget: '', message: ''
    });
  };

  // 가상의 공연 데이터 (실제 데이터로 교체 필요)
  const portfolios = [
    {
      id: 1,
      title: "한여름 밤의 꿈",
      category: "연극",
      target: "전연령",
      time: "80분",
      desc: "셰익스피어의 희극을 우리 정서에 맞게 재해석한 유쾌한 가족극.",
      image: "https://images.unsplash.com/photo-1503095392237-fc55f8d290f6?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
    },
    {
      id: 2,
      title: "청춘의 온도",
      category: "뮤지컬",
      target: "청소년/성인",
      time: "90분",
      desc: "방황하는 청춘들의 꿈과 사랑을 노래하는 감성 힐링 뮤지컬.",
      image: "https://images.unsplash.com/photo-1514306191717-452ec28c7f31?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
    },
    {
      id: 3,
      title: "찾아가는 학교 공연",
      category: "교육",
      target: "초/중/고",
      time: "50분",
      desc: "학교폭력 예방 및 인성 함양을 위한 관객 참여형 교육 연극.",
      image: "https://images.unsplash.com/photo-1460723237483-7a6dc9d0b212?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
    }
  ];

  return (
    <div className="min-h-screen bg-stone-50 text-slate-800 font-sans">
      {/* 네비게이션 바 */}
      <nav className={`fixed w-full z-50 transition-all duration-300 ${scrolled ? 'bg-white shadow-lg py-3' : 'bg-transparent py-5'}`}>
        <div className="container mx-auto px-6 flex justify-between items-center">
          <div className="text-2xl font-bold tracking-tighter text-slate-900">
            Eni<span className="text-rose-600">Theater</span>
          </div>
          
          {/* 데스크탑 메뉴 */}
          <div className="hidden md:flex space-x-8 font-medium">
            <button onClick={() => scrollToSection('about')} className="hover:text-rose-600 transition">About</button>
            <button onClick={() => scrollToSection('portfolio')} className="hover:text-rose-600 transition">Portfolio</button>
            <button onClick={() => scrollToSection('review')} className="hover:text-rose-600 transition">Review</button>
            <button onClick={() => scrollToSection('contact')} className="px-5 py-2 bg-rose-600 text-white rounded-full hover:bg-rose-700 transition shadow-md">
              섭외 신청
            </button>
          </div>

          {/* 모바일 메뉴 버튼 */}
          <button className="md:hidden" onClick={() => setIsMenuOpen(!isMenuOpen)}>
            {isMenuOpen ? <X size={28} /> : <Menu size={28} />}
          </button>
        </div>

        {/* 모바일 메뉴 드롭다운 */}
        {isMenuOpen && (
          <div className="md:hidden absolute top-full left-0 w-full bg-white shadow-xl py-4 flex flex-col items-center space-y-4 font-medium border-t">
            <button onClick={() => scrollToSection('about')}>소개</button>
            <button onClick={() => scrollToSection('portfolio')}>공연 목록</button>
            <button onClick={() => scrollToSection('contact')} className="text-rose-600 font-bold">섭외하기</button>
          </div>
        )}
      </nav>

      {/* 히어로 섹션 */}
      <section id="home" className="relative h-screen flex items-center justify-center overflow-hidden">
        <div className="absolute inset-0 z-0">
          <div className="absolute inset-0 bg-gradient-to-b from-black/60 via-black/40 to-stone-50 z-10"></div>
          <img 
            src="https://images.unsplash.com/photo-1468359601543-843b22295d7e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80" 
            alt="Theater Stage" 
            className="w-full h-full object-cover animate-pulse-slow"
          />
        </div>
        
        <div className="relative z-20 text-center px-6 max-w-4xl mx-auto">
          <span className="block text-rose-400 font-bold tracking-widest mb-4 animate-fade-in-up">SINCE 2014</span>
          <h1 className="text-5xl md:text-7xl font-bold text-white mb-6 leading-tight animate-fade-in-up delay-100">
            무대 위의 진심,<br/>
            관객과의 <span className="text-rose-500">공명</span>
          </h1>
          <p className="text-xl text-stone-200 mb-10 max-w-2xl mx-auto animate-fade-in-up delay-200">
            극단 이니는 삶의 희로애락을 담은 무대로<br className="md:hidden"/> 당신의 공간을 예술로 채웁니다.
          </p>
          <button 
            onClick={() => scrollToSection('portfolio')}
            className="px-8 py-4 bg-transparent border-2 border-white text-white text-lg font-bold rounded-full hover:bg-white hover:text-rose-600 transition-all duration-300 animate-fade-in-up delay-300"
          >
            공연 둘러보기
          </button>
        </div>
      </section>

      {/* About 섹션 */}
      <section id="about" className="py-20 bg-stone-50">
        <div className="container mx-auto px-6">
          <div className="flex flex-col md:flex-row items-center gap-12">
            <div className="md:w-1/2">
              <img 
                src="https://images.unsplash.com/photo-1595152772835-219674b2a8a6?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" 
                alt="Eni Theater Team" 
                className="rounded-2xl shadow-2xl"
              />
            </div>
            <div className="md:w-1/2">
              <h2 className="text-rose-600 font-bold tracking-widest mb-2">ABOUT US</h2>
              <h3 className="text-4xl font-bold text-slate-900 mb-6">2014년부터 이어온<br/>창작의 열정</h3>
              <p className="text-slate-600 leading-relaxed mb-6">
                'Eni(이니)'는 사람과 사람 사이를 잇는다는 의미를 담고 있습니다. 
                우리는 정형화된 극장을 넘어 학교, 기업, 축제 현장 등 
                관객이 있는 곳이라면 어디든 찾아가 최고의 퍼포먼스를 선사합니다.
              </p>
              <ul className="space-y-4">
                <li className="flex items-center gap-3">
                  <div className="bg-rose-100 p-2 rounded-full text-rose-600"><Users size={20}/></div>
                  <span className="font-medium">전문 연극인으로 구성된 탄탄한 앙상블</span>
                </li>
                <li className="flex items-center gap-3">
                  <div className="bg-rose-100 p-2 rounded-full text-rose-600"><Star size={20}/></div>
                  <span className="font-medium">다수의 연극제 수상 및 초청작 보유</span>
                </li>
                <li className="flex items-center gap-3">
                  <div className="bg-rose-100 p-2 rounded-full text-rose-600"><MapPin size={20}/></div>
                  <span className="font-medium">전국 어디든 찾아가는 기획 공연</span>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      {/* Portfolio 섹션 */}
      <section id="portfolio" className="py-24 bg-white">
        <div className="container mx-auto px-6">
          <div className="text-center mb-16">
            <h2 className="text-4xl font-bold text-slate-900 mb-4">주요 공연 레퍼토리</h2>
            <p className="text-slate-500">극단 이니가 자신 있게 추천하는 베스트 프로그램입니다.</p>
          </div>

          <div className="grid md:grid-cols-3 gap-8">
            {portfolios.map((item) => (
              <div key={item.id} className="group bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 border border-slate-100">
                <div className="relative overflow-hidden h-64">
                  <img src={item.image} alt={item.title} className="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500"/>
                  <div className="absolute top-4 left-4 bg-rose-600 text-white text-xs font-bold px-3 py-1 rounded-full uppercase">
                    {item.category}
                  </div>
                </div>
                <div className="p-8">
                  <h3 className="text-2xl font-bold mb-3 group-hover:text-rose-600 transition-colors">{item.title}</h3>
                  <p className="text-slate-600 mb-6 line-clamp-2">{item.desc}</p>
                  
                  <div className="flex items-center justify-between text-sm text-slate-500 border-t pt-4">
                    <div className="flex items-center gap-1">
                      <Users size={16} />
                      <span>{item.target}</span>
                    </div>
                    <div className="flex items-center gap-1">
                      <Clock size={16} />
                      <span>{item.time}</span>
                    </div>
                  </div>
                </div>
                <div className="px-8 pb-8">
                  <button 
                    onClick={() => scrollToSection('contact')}
                    className="w-full py-3 bg-slate-50 text-slate-900 font-bold rounded-xl hover:bg-slate-900 hover:text-white transition-colors flex items-center justify-center gap-2"
                  >
                    섭외 문의하기 <ChevronRight size={16}/>
                  </button>
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* 통계 바 */}
      <section className="py-16 bg-slate-900 text-white">
        <div className="container mx-auto px-6">
          <div className="grid grid-cols-2 md:grid-cols-4 gap-8 text-center divide-x divide-slate-700">
            <div>
              <div className="text-4xl font-bold text-rose-500 mb-2">500+</div>
              <div className="text-slate-400">누적 공연 횟수</div>
            </div>
            <div>
              <div className="text-4xl font-bold text-rose-500 mb-2">10년</div>
              <div className="text-slate-400">극단 연혁</div>
            </div>
            <div>
              <div className="text-4xl font-bold text-rose-500 mb-2">98%</div>
              <div className="text-slate-400">클라이언트 만족도</div>
            </div>
            <div>
              <div className="text-4xl font-bold text-rose-500 mb-2">30+</div>
              <div className="text-slate-400">레퍼토리 보유</div>
            </div>
          </div>
        </div>
      </section>

      {/* 섭외 신청 폼 (Contact) */}
      <section id="contact" className="py-24 bg-rose-50">
        <div className="container mx-auto px-6">
          <div className="bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row">
            
            {/* 왼쪽 정보 영역 */}
            <div className="md:w-1/3 bg-slate-900 text-white p-12 flex flex-col justify-between">
              <div>
                <h2 className="text-3xl font-bold mb-6">공연 섭외 문의</h2>
                <p className="text-slate-400 mb-10">
                  폼을 작성해 주시면 담당자가 내용을 확인 후 
                  24시간 이내에 맞춤 제안서와 견적을 보내드립니다.
                </p>
                
                <div className="space-y-6">
                  <div className="flex items-start gap-4">
                    <Phone className="text-rose-500 mt-1"/>
                    <div>
                      <div className="text-sm text-slate-400">전화 문의</div>
                      <div className="font-bold text-lg">010-1234-5678</div>
                    </div>
                  </div>
                  <div className="flex items-start gap-4">
                    <Mail className="text-rose-500 mt-1"/>
                    <div>
                      <div className="text-sm text-slate-400">이메일</div>
                      <div className="font-bold text-lg">enitheater2014@example.com</div>
                    </div>
                  </div>
                </div>
              </div>

              <div className="mt-12">
                <div className="text-sm text-slate-400 mb-4">Follow Us</div>
                <div className="flex gap-4">
                  <a href="#" className="p-2 bg-slate-800 rounded-full hover:bg-rose-600 transition"><Instagram size={20}/></a>
                  <a href="#" className="p-2 bg-slate-800 rounded-full hover:bg-rose-600 transition"><Facebook size={20}/></a>
                  <a href="#" className="p-2 bg-slate-800 rounded-full hover:bg-rose-600 transition"><Youtube size={20}/></a>
                </div>
              </div>
            </div>

            {/* 오른쪽 폼 영역 */}
            <div className="md:w-2/3 p-12">
              <form onSubmit={handleSubmit} className="space-y-6">
                <div className="grid md:grid-cols-2 gap-6">
                  <div>
                    <label className="block text-sm font-bold text-slate-700 mb-2">단체/기업명</label>
                    <input 
                      type="text" 
                      name="orgName"
                      required
                      value={formData.orgName}
                      onChange={handleInputChange}
                      className="w-full px-4 py-3 rounded-lg bg-slate-50 border border-slate-200 focus:border-rose-500 focus:ring-2 focus:ring-rose-200 outline-none transition"
                      placeholder="예) OO초등학교, OO기업"
                    />
                  </div>
                  <div>
                    <label className="block text-sm font-bold text-slate-700 mb-2">담당자 성함</label>
                    <input 
                      type="text" 
                      name="managerName"
                      required
                      value={formData.managerName}
                      onChange={handleInputChange}
                      className="w-full px-4 py-3 rounded-lg bg-slate-50 border border-slate-200 focus:border-rose-500 focus:ring-2 focus:ring-rose-200 outline-none transition"
                      placeholder="홍길동"
                    />
                  </div>
                </div>

                <div className="grid md:grid-cols-2 gap-6">
                  <div>
                    <label className="block text-sm font-bold text-slate-700 mb-2">연락처</label>
                    <input 
                      type="tel" 
                      name="phone"
                      required
                      value={formData.phone}
                      onChange={handleInputChange}
                      className="w-full px-4 py-3 rounded-lg bg-slate-50 border border-slate-200 focus:border-rose-500 focus:ring-2 focus:ring-rose-200 outline-none transition"
                      placeholder="010-0000-0000"
                    />
                  </div>
                  <div>
                    <label className="block text-sm font-bold text-slate-700 mb-2">이메일</label>
                    <input 
                      type="email" 
                      name="email"
                      required
                      value={formData.email}
                      onChange={handleInputChange}
                      className="w-full px-4 py-3 rounded-lg bg-slate-50 border border-slate-200 focus:border-rose-500 focus:ring-2 focus:ring-rose-200 outline-none transition"
                      placeholder="contact@email.com"
                    />
                  </div>
                </div>

                <div className="grid md:grid-cols-2 gap-6">
                  <div>
                    <label className="block text-sm font-bold text-slate-700 mb-2">희망 공연 날짜</label>
                    <input 
                      type="date" 
                      name="date"
                      required
                      value={formData.date}
                      onChange={handleInputChange}
                      className="w-full px-4 py-3 rounded-lg bg-slate-50 border border-slate-200 focus:border-rose-500 focus:ring-2 focus:ring-rose-200 outline-none transition"
                    />
                  </div>
                  <div>
                    <label className="block text-sm font-bold text-slate-700 mb-2">예산 범위 (대략)</label>
                    <select 
                      name="budget"
                      value={formData.budget}
                      onChange={handleInputChange}
                      className="w-full px-4 py-3 rounded-lg bg-slate-50 border border-slate-200 focus:border-rose-500 focus:ring-2 focus:ring-rose-200 outline-none transition"
                    >
                      <option value="">선택해주세요</option>
                      <option value="100-300">100~300만원</option>
                      <option value="300-500">300~500만원</option>
                      <option value="500-1000">500~1,000만원</option>
                      <option value="1000+">1,000만원 이상</option>
                      <option value="협의">협의 필요</option>
                    </select>
                  </div>
                </div>

                <div>
                  <label className="block text-sm font-bold text-slate-700 mb-2">기타 문의사항 (공연 장소 특징 등)</label>
                  <textarea 
                    rows="4"
                    name="message"
                    value={formData.message}
                    onChange={handleInputChange}
                    className="w-full px-4 py-3 rounded-lg bg-slate-50 border border-slate-200 focus:border-rose-500 focus:ring-2 focus:ring-rose-200 outline-none transition"
                    placeholder="공연하실 장소(강당, 야외 등)나 특별히 원하시는 공연 컨셉이 있다면 적어주세요."
                  ></textarea>
                </div>

                <button type="submit" className="w-full bg-rose-600 text-white font-bold py-4 rounded-xl hover:bg-rose-700 transition shadow-lg hover:shadow-rose-200 transform hover:-translate-y-1">
                  섭외 신청하기
                </button>
              </form>
            </div>
          </div>
        </div>
      </section>

      {/* Footer */}
      <footer className="bg-slate-900 text-slate-400 py-12 border-t border-slate-800">
        <div className="container mx-auto px-6 text-center">
          <div className="text-2xl font-bold tracking-tighter text-white mb-6">
            Eni<span className="text-rose-600">Theater</span>
          </div>
          <p className="mb-6">Copyright © 2014-2026 Eni Theater. All rights reserved.</p>
          <div className="text-sm space-x-4">
            <a href="#" className="hover:text-white">이용약관</a>
            <span className="text-slate-700">|</span>
            <a href="#" className="hover:text-white">개인정보처리방침</a>
          </div>
        </div>
      </footer>
    </div>
  );
};

export default EniTheaterApp;